(self["webpackJsonp"] = self["webpackJsonp"] || []).push([["qMFH"],{"MqMFH":function(_,__,__webpack_require__){__webpack_require__.n_x = __webpack_require__.n;__webpack_require__("MEEO/");__webpack_require__("MP4bM");self._43f8a69260d35c35bc704f654cf1c2b6 = self._43f8a69260d35c35bc704f654cf1c2b6 || {};(function(__c) {'use strict';var TYd=function(a,b){const c=Date.now();return a.eb(new __c.vJ({id:a.N7c.next(),author:a.Uca,Yh:c,$l:c,content:b.content,fh:b.fh,aQ:"pending",vM:b}))},p1=async function(a,b){if(!a.Sg(b)){var {page:c,element:d,parent:e}=__c.n(b.ref);"story"===a.config.Hi&&(a.selection.Cj(c),await Promise.resolve());o1.K(()=>{a.gk={store:b,focused:!0};d?e?a.selection.kU(c,e,d):a.selection.dj(c,d):a.selection.Cj(c);UYd(a,b)})}},VYd=function(a,b,c){return __c.sj(a.viewport.Ov(c).transform(b)).top},WYd=function(a){if(a.viewport.rn&&
!(!a.reference||a.gk&&a.gk.focused||a.isDragging())){var b=a.reference.page,c=a.reference.TGb;if(!a.Joa(a.reference.target)){var d=a.viewport.noa();return{offset:VYd(a,d,b)+c*a.config.zoom}}}},$Yd=function(a){let b;const c=o1.J(()=>a.viewport.rn?a.mode:void 0,f=>{f&&(window.clearTimeout(b),b=void 0,"overlay"===f?a.mHa=!0:b=window.setTimeout(o1.l(()=>{a.mHa=!1}),XYd))},{fireImmediately:!0}),d=o1.J(()=>a.A4,f=>{const g=new Set(f.map(({ref:{target:h}})=>h));for(const h of a.Y9a())h.ref&&!g.has(h.ref.target)&&
(h.ref=void 0,a.gk&&a.gk.store===h&&(a.gk=void 0));for(const {ref:h,Yf:l}of f)for(const p of l)!p.ref&&p instanceof q1&&(p.ref=h);for(const h of a.cW.keys())g.has(h)||a.cW.delete(h)},{fireImmediately:!0}),e=o1.J(()=>{if(a.viewport.rn&&!a.isDragging()&&!a.viewport.TS){var f=a.A4;"story"===a.config.Hi&&(f=f.filter(({ref:{page:q}})=>q===a.viewport.ab));if(0!==f.length){var g=[],h=a.viewport.noa(),l=a.config.zoom,p;for(const {ref:q,ref:{page:t,target:u},Yf:v}of f){f=q.TGb;p&&p.page===t||(p={page:q.page,
offset:VYd(a,h,t)});f=p.offset+f*l;for(const y of v)y.ref&&y.ref.target===u&&g.push({store:y,offset:f,height:y.rda})}h=WYd(a);if(!a.vpa&&h)h={type:"button",offset:h.offset};else{const q=a.gk&&a.gk.store;h=q?g.findIndex(({store:t})=>q===t):0;h={type:"comment",dG:-1<h?h:0}}return{reference:h,gmd:g}}}},f=>{if(f){var g=f.reference,h=f.gmd;f=(p,q)=>{for(;0<=p;p--){const {store:t,height:u}=h[p];q-=u;if(t.offset<=q)break;q=t.offset=q}};var l=(p,q)=>{for(;p<h.length;p++){const {store:t,offset:u,height:v}=
h[p];t.offset=Math.max(u,q);q=t.offset+v}};l(0,0);if("comment"===g.type){const {store:p,offset:q,height:t}=h[g.dG];p.offset=q;f(g.dG-1,q);l(g.dG+1,q+t)}else if("button"===g.type){const p=g.offset,q=h.findIndex(t=>t.offset>=g.offset);0>q?f(h.length-1,p):(f(q-1,p),l(q,p+YYd))}else throw new __c.D(g);}},{fireImmediately:!0,scheduler:ZYd});return()=>{c();d();e()}},aZd=function(a,b){return!!b.ref&&a.page===b.ref.page&&a.element===b.ref.element&&a.parent===b.ref.parent},bZd=function(a,b){const c=a.eBb(b);
return(a=a.cW.get(b))?[...c,a]:c},dZd=function(a,b){const c=new cZd(__c.n(a.reference));c.offset=__c.n(WYd(a)).offset;var d=a.controller;__c.dfc(d.analytics,{ca:d.ca,source:b});a.cW.set(c.ref.target,c);p1(a,c)},UYd=function(a,b){var c=__c.n(b.ref);const {config:{zoom:d},viewport:e}=a;var f=e.noa(),g=__c.sj(e.Nv().transform(f));const h=g.height,l=g.top,p=l+h;g=e.Ov(c.page).transform(f);c=c.element?c.Ima.transform(__c.dj(d).then(__c.vj(g))):g;var q=__c.sj(c);const t=q.top;q=t+q.height;b=t+b.rda;t>=
l&&t<=p||q>=l&&q<=p&&b>=l&&b<=p||(g.height<=h?b=g.center().y-h/2:c.height<=h?(b=c.center().y-h/2,g=__c.sj(g),b=Math.max(b,g.top),b=Math.min(b,g.top+g.height-h)):b=t,f=__c.ij(f).then(e.ZW()).transform(0,0).y+b,a.fjb.animate(()=>e.bz.y,u=>e.tia(u),f))},eZd=function(a,{ref:b,Yb:c}){c instanceof q1&&(c.ref=b,a.gk&&a.gk.focused&&(a.gk={store:a.gk.store,focused:!1}));p1(a,c)},fZd=function(a){const b=a.gk,c=a.iRc;if(0!==c.length){var d=b?c.findIndex(({ref:e,Yb:f})=>f===b.store&&aZd(e,f)):0;eZd(a,c[b&&b.focused?
(d+1)%c.length:d])}},gZd=function(a){const b=a.gk,c=a.iRc;if(0!==c.length){var d=((b?c.findIndex(({ref:e,Yb:f})=>f===b.store&&aZd(e,f)):c.length)+c.length-1)%c.length;eZd(a,c[d])}},iZd=function(a,b,c,d){c=hZd(a.Z$a,a.Joa,c,a.qh,d);let e;for(let g=c.length-1;0<=g;g--){var f=c[g];const h=new __c.jM(b,f,d),l=a.controller.Aya(f).list;for(const p of l)p.ref=h;0<l.length?e=l[0]:(f=a.cW.get(f))&&(e=f)}return e},hZd=function(a,b,c,d,e){a=__c.Ihc(c,e,b,a);a.sort(__c.Khc(d));return a.map(({element:f})=>f)},
ZYd=function(a){requestAnimationFrame(()=>setTimeout(a,0))},r1=__webpack_require__("mrSG");var jZd=__webpack_require__("TSYQ"),kZd=__webpack_require__.n_x(jZd);var o1=__webpack_require__("2vnA");var s1=__webpack_require__("TyAF");var t1=__webpack_require__("q1tI");var lZd=__webpack_require__("Gp1o");var mZd=__webpack_require__("CMvH");var v1=class extends t1.Component{constructor(){super(...arguments);this.Vmc=a=>{var b,c;const d=this.props.store,e=this.props.v;return a.Yh!==a.$l?e.Dma(d,{NI:(null===(b=a.vM)||void 0===b?void 0:b.NI)||[],content:a.content,fh:(null===(c=a.vM)||void 0===c?void 0:c.fh)||[]}):e.duc(d)};this.Wmc=a=>{var b,c;const d=this.props.store,e=this.props.v;return a.Yh!==a.$l?e.Ema(d,a,{NI:(null===(b=a.vM)||void 0===b?void 0:b.NI)||[],content:a.content,fh:(null===(c=a.vM)||void 0===c?void 0:c.fh)||[]}):e.Sib(d,
a)};this.$g=a=>this.props.v.$g(a);this.yr=a=>this.props.v.yr(a);this.plc=()=>p1(this.props.v,this.props.store);this.LP=a=>this.props.v.Dma(this.props.store,a);this.lmc=a=>this.props.v.L0(this.props.store,a);this.k9=(a,b)=>this.props.v.Ema(this.props.store,a,b);this.hlc=()=>{this.props.v.mcb(this.props.store)};this.Py=()=>this.props.v.lD(this.props.store);this.KP=a=>this.props.v.TR(this.props.store,a);this.Pt=()=>this.props.v.U3(this.props.store)}get Y1(){const a=this.props.store,b=this.props.v;return this.props.focused||
b.Bxa.has(a)}render(){const {store:{cc:a},focused:b,nm:c,Am:d,Lp:e}=this.props;return t1.createElement("div",{id:`comment-${a.Yb.id}`,className:kZd()("hkc8Dw SeGh3Q",{["hI07rw EEWnjA Y6qKQQ"]:this.Y1})},t1.createElement(u1,{cc:a.Yb,um:a.um,hv:a.hv,focused:b,$g:this.$g,yr:this.yr,Am:d,lmc:this.lmc,plc:this.plc,LP:this.LP,k9:this.k9,hlc:this.hlc,Py:this.Py,KP:this.KP,Pt:this.Pt,Vmc:this.Vmc,Wmc:this.Wmc,nm:c,Lp:e}))}};__c.k(()=>v1.prototype.Y1);Object(r1.a)([o1.o],v1.prototype,"Y1",null);
v1=Object(r1.a)([s1.b],v1);
var w1=class extends t1.Component{constructor(){super(...arguments);this.zHd=a=>this.props.v.TBc(this.props.store,a);this.Lc=()=>{this.props.v.MZb(this.props.store)}}get Y1(){const a=this.props.store,b=this.props.v;return this.props.focused||b.Bxa.has(a)}render(){const a=this.props.nm,b=this.props.Am;return t1.createElement("div",{className:kZd()("hkc8Dw SeGh3Q",{["hI07rw EEWnjA Y6qKQQ"]:this.Y1})},t1.createElement(__c.JL,{type:"comment",nm:a,Qkb:!0,onSubmit:this.zHd,Lc:this.Lc,Am:b}))}};
__c.k(()=>w1.prototype.Y1);Object(r1.a)([o1.o],w1.prototype,"Y1",null);w1=Object(r1.a)([s1.b],w1);
var u1=class extends t1.Component{constructor(){super(...arguments);this.XDb=!0;this.ei=a=>{const b=this.props.Vmc,c=this.props.Wmc;a===this.props.cc?b(a):c(a)};this.dM=(a,b)=>{const c=this.props.LP,d=this.props.k9;return a===this.props.cc?c(b):d(a,b)};this.Lm=a=>{const b=this.props.Py,c=this.props.KP;return a===this.props.cc?b():c(a)}}render(){const a=this.props.um,b=this.props.Am,c=this.props.lmc,d=this.props.hlc,e=this.props.nm,f=this.props.hv-a.length,g={onFocus:this.props.plc,dM:this.dM,Lm:this.Lm,
iEa:this.props.Pt,ei:this.ei,nm:e,$g:this.props.$g,yr:this.props.yr,Am:b,Lp:this.props.Lp};return t1.createElement(t1.Fragment,null,t1.createElement(x1,Object.assign({},g,{Yb:this.props.cc,type:"comment"})),0<f&&t1.createElement("button",{className:"dTVvdQ gLTEuQ XvGYmg",onClick:d},__c.B("ZKrOZQ",[f])),a.map(h=>t1.createElement(x1,Object.assign({},g,{key:h.id,Yb:h,type:"reply"}))),this.yzc&&t1.createElement(__c.JL,{type:"reply",onSubmit:c,onChange:this.kmc,nm:e,Qkb:!0,Am:b}))}get yzc(){return this.props.focused||
!this.XDb}kmc(a){this.XDb=!a}};__c.k(()=>u1.prototype.XDb);Object(r1.a)([o1.E.ref],u1.prototype,"XDb",void 0);__c.k(()=>u1.prototype.yzc);Object(r1.a)([o1.o],u1.prototype,"yzc",null);__c.k(()=>u1.prototype.kmc);Object(r1.a)([o1.l.bound],u1.prototype,"kmc",null);u1=Object(r1.a)([s1.b],u1);
var x1=class extends t1.Component{constructor(){super(...arguments);this.Yz=!1;this.ei=()=>{const a=this.props.ei;a(this.props.Yb)};this.Pt=()=>{const a=this.props.iEa;return a(this.props.Yb)};this.dM=a=>{const b=this.props.Yb,c=this.props.dM;this.Yz=!1;return c(b,a)};this.xbc=()=>{this.Yz=!0;this.props.onFocus()}}render(){const a=this.props.Am,b=this.props.Yb,c=this.props.nm,d=this.props.type,e=this.props.Lp;return this.Yz?t1.createElement("div",{className:"R3c_Fg"},t1.createElement(__c.JL,{type:d,
onSubmit:this.dM,Lc:this.Vkc,nm:c,Qkb:!0,Am:a,Yb:b})):t1.createElement(e,{iEa:"comment"===d?this.Pt:void 0,type:d,pending:"pending"===b.aQ,error:"error"===b.aQ?t1.createElement(nZd,{ei:this.ei}):void 0,key:b.id,Yb:b,N2:this.N2})}Vkc(){this.Yz=!1}get N2(){const a=this.props.Yb,b=this.props.$g,c=this.props.yr,d=this.props.Lm,e="reply"===this.props.type,f=[];b(a)&&f.push({Icon:__c.Lw,label:e?__c.B("r/GefQ",[]):__c.B("L1Ai+w",[]),onMouseUp:()=>this.xbc()});c(a)&&f.push({Icon:__c.QD,label:e?__c.B("17eDJA",
[]):__c.B("Cj3aIw",[]),onMouseUp:()=>d(a)});return f}};__c.k(()=>x1.prototype.Yz);Object(r1.a)([o1.E.ref],x1.prototype,"Yz",void 0);__c.k(()=>x1.prototype.Vkc);Object(r1.a)([o1.l.bound],x1.prototype,"Vkc",null);__c.k(()=>x1.prototype.dM);Object(r1.a)([o1.l.bound],x1.prototype,"dM",void 0);__c.k(()=>x1.prototype.xbc);Object(r1.a)([o1.l],x1.prototype,"xbc",void 0);__c.k(()=>x1.prototype.N2);Object(r1.a)([o1.o],x1.prototype,"N2",null);x1=Object(r1.a)([s1.b],x1);
var nZd=({ei:a})=>t1.createElement(t1.Fragment,null,t1.createElement("span",null,__c.B("13+qHQ",[])," "),t1.createElement(__c.vx,{onClick:a},__c.B("Frp0dA",[])));var XYd=parseInt("200ms",10),YYd=parseInt("32px",10)+__c.Uy,oZd=parseInt("256px",10)+parseInt("48px",10)+__c.Uy,y1=class{constructor(){this.rda=1}};__c.k(()=>y1.prototype.rda);Object(r1.a)([o1.E.ref],y1.prototype,"rda",void 0);__c.k(()=>y1.prototype.offset);Object(r1.a)([o1.E.ref],y1.prototype,"offset",void 0);var q1=class extends y1{constructor(a){super();this.cc=a}};__c.k(()=>q1.prototype.ref);Object(r1.a)([o1.E.ref],q1.prototype,"ref",void 0);
var pZd=new __c.Nv("draft_comment_"),cZd=class extends y1{constructor(a){super();this.ref=a;this.id=pZd.next()}},z1=class{constructor(a,b,c,d,e,f,g,h){this.controller=a;this.document=b;this.config=c;this.isDragging=d;this.selection=e;this.viewport=f;this.Tj=g;this.qh=h;this.cW=new Map;this.J9=new Map;this.Bxa=new o1.c;this.fjb=new __c.Lj;this.wKc=o1.q("commentingAvailableMargin");this.mHa=this.Onb=!1;this.gua=Object(lZd.h)(l=>new __c.kM(l,this.t5a,this.qh,this.Joa,this.Z$a));this.t5a=Object(lZd.h)(l=>
new __c.lM(l,this.Joa,this.Z$a));this.Joa=l=>this.cW.has(l);this.Z$a=l=>(l=this.J9.get(l))?0<l.length:!1}get EMa(){const a=this.qh;var b=this.viewport;this.wKc.reportObserved();if(!b.rn)return 0;const c=b.Nv();b=b.hAa();return Math.min(oZd,Math.max(0,a?b.Tc.x-c.Tc.x:c.r.x-b.r.x))}get vpa(){return isNaN(this.EMa)||this.EMa>=oZd}get mode(){if(this.vpa)return"pinned";if(this.Iec)return"overlay";const a=0<this.vs.length;return!this.Onb&&a?"overlay":"pinned"}get iRc(){return this.A4.flatMap(a=>{const b=
a.ref;return a.Yf.map(c=>({ref:b,Yb:c}))})}get A4(){const a=[];if(!this.viewport.rn)return[];this.document.fa.toArray().forEach(b=>{var c=bZd(this,b);0<c.length&&a.push({ref:new __c.jM(b),Yf:c});for(const {element:d,parent:e}of this.gua(b).ota)c=bZd(this,d),0<c.length&&a.push({ref:new __c.jM(b,d,e),Yf:c})});return a}get vs(){return"story"===this.config.Hi?this.v2b:this.OAb}get F4b(){return"story"===this.config.Hi?this.w2b:this.QAb}Y9a(){return[...this.controller.Y9a(),...[...this.J9.values()].flat()]}get OAb(){const a=
[];for(const b of this.Y9a())b.ref&&a.push(b);return a}get v2b(){return this.OAb.filter(a=>{var b;return(null===(b=a.ref)||void 0===b?void 0:b.page)===this.viewport.ab})}get QAb(){return[...this.cW.values()]}get w2b(){return this.QAb.filter(a=>{var b;return(null===(b=a.ref)||void 0===b?void 0:b.page)===this.viewport.ab})}MZb(a){this.cW.delete(a.ref.target);this.gk&&this.gk.store===a&&(a=a.ref.target.ac,this.gk=0<a.length?(a=this.controller.eAa(a[a.length-1]))&&{store:a,focused:!1}:void 0)}async TBc(a,
b){var c;const d=TYd(this.controller,b);d.ref=a.ref;this.J9.get(a.ref.target)?null===(c=this.J9.get(a.ref.target))||void 0===c?void 0:c.push(d):this.J9.set(a.ref.target,[d]);this.cW.delete(a.ref.target);d.offset=a.offset;d.rda=a.rda;p1(this,d);a=await __c.ofc(this.controller,a.ref.target,b,o1.l(()=>{d.cc.Yb.aQ="error"}));this.HBb(d,a)}Lsc(a){var b;if(null!==(b=a.ref)&&void 0!==b&&b.target){b=this.J9.get(a.ref.target)||[];var c=b.indexOf(a);-1!==c&&(b.splice(c,1),this.J9.set(a.ref.target,[...b]))}}async duc(a){var b,
c,d;null!==(b=a.ref)&&void 0!==b&&b.target&&(a.cc.Yb.aQ="pending",b=await __c.ofc(this.controller,a.ref.target,{NI:(null===(c=a.cc.Yb.vM)||void 0===c?void 0:c.NI)||[],content:a.cc.Yb.content,fh:(null===(d=a.cc.Yb.vM)||void 0===d?void 0:d.fh)||[]},o1.l(()=>{a.cc.Yb.aQ="error"})),this.HBb(a,b))}HBb(a,b){var c,d;a.cc.um.map(e=>{var f,g;return this.L0(b,{NI:(null===(f=e.vM)||void 0===f?void 0:f.NI)||[],content:e.content,fh:(null===(g=e.vM)||void 0===g?void 0:g.fh)||[]})});this.Lsc(a);(null===(c=this.gk)||
void 0===c?void 0:c.store)!==a||null!==(d=this.gk)&&void 0!==d&&d.focused||o1.K(()=>this.gk={store:b,focused:!1});this.Sg(a)&&(b.offset=a.offset,b.rda=a.rda,p1(this,b))}Dma(a,b){a.cc.Yb.content=b.content;a.cc.Yb.fh=b.fh;a.cc.Yb.$l=Date.now();a.cc.Yb.aQ="pending";a.cc.Yb.vM=b;return this.controller.Dma(a,b,o1.l(()=>a.cc.Yb.aQ="error"))}$Kb(a){if(this.gk&&this.gk.store===a){const c=__c.n(a.ref);var b=c.target.ac;const d=b.findIndex(e=>e===a.cc.Yb.id);this.gk=(b=b.slice(0,d).reverse().concat(b.slice(d+
1)).map(e=>this.controller.eAa(e)).find(e=>e&&e.ref?e.ref.element===c.element:!1))&&{store:b,focused:!1}}}lD(a){this.$Kb(a);return this.controller.lD(a)}U3(a){this.$Kb(a);return this.controller.U3(a,b=>{__c.ks(this.Tj,{Rd:__c.B("LRA3hg",[]),xm:{type:"custom",wz:__c.B("rnE3Tg",[]),kA:b}})})}mcb(a){return this.controller.mcb(a)}Sib(a,b){return this.controller.Sib(a,b)}L0(a,b){const c=this.controller.pWb(a,b);return this.controller.L0(a,b,c.id)}Ema(a,b,c){return this.controller.Ema(a,b,c)}TR(a,b){return this.controller.TR(a,
b)}$g(a){return this.controller.$g(a)}yr(a){return this.controller.yr(a)}J9a(){this.wKc.reportChanged()}get P4(){var a,b=this.gk?this.gk.store:this.A4[0];return(b=null===(a=null===b||void 0===b?void 0:b.ref)||void 0===a?void 0:a.page)&&this.document.fa.has(b)?b:void 0}get Iec(){return!!this.gk&&this.gk.focused}Sg(a){return!!this.gk&&this.gk.store===a&&this.gk.focused}K3a(a){this.Sg(a)&&(this.gk={store:a,focused:!1})}pfb(a){this.reference=void 0;this.Bxa.clear();if(a){var b=a.page,c=a.elements;a=a.parent;
this.Onb||(this.Onb=this.vs.some(e=>e.ref&&e.ref.page===b));if(c){this.Bxa.replace(c.flatMap(e=>bZd(this,e)));var d=iZd(this,b,c,a);1===c.length&&(this.reference=new __c.jM(b,c[0],a));!d||this.gk&&this.gk.store.ref&&this.gk.store.ref.element&&c.includes(this.gk.store.ref.element)||(this.gk={store:d,focused:!1})}else{this.reference=new __c.jM(b);c=this.eBb(b);for(d of c)d.ref=this.reference;if(c[0]||this.cW.get(b))this.gk&&this.gk.store.ref&&this.gk.store.ref.target===b||(this.gk={store:c[0],focused:!1});
this.Bxa.replace([...bZd(this,b)])}}}eBb(a){return this.controller.Aya(a).list.concat(this.J9.get(a)||[])}};__c.k(()=>z1.prototype.gk);Object(r1.a)([o1.E.ref],z1.prototype,"gk",void 0);__c.k(()=>z1.prototype.reference);Object(r1.a)([o1.E.ref],z1.prototype,"reference",void 0);__c.k(()=>z1.prototype.cW);Object(r1.a)([o1.E.shallow],z1.prototype,"cW",void 0);__c.k(()=>z1.prototype.J9);Object(r1.a)([o1.E.deep],z1.prototype,"J9",void 0);__c.k(()=>z1.prototype.Bxa);
Object(r1.a)([o1.E.ref],z1.prototype,"Bxa",void 0);__c.k(()=>z1.prototype.Onb);Object(r1.a)([o1.E.ref],z1.prototype,"Onb",void 0);__c.k(()=>z1.prototype.mHa);Object(r1.a)([o1.E.ref],z1.prototype,"mHa",void 0);__c.k(()=>z1.prototype.EMa);Object(r1.a)([o1.o],z1.prototype,"EMa",null);__c.k(()=>z1.prototype.vpa);Object(r1.a)([o1.o],z1.prototype,"vpa",null);__c.k(()=>z1.prototype.mode);Object(r1.a)([o1.o],z1.prototype,"mode",null);__c.k(()=>z1.prototype.A4);
Object(r1.a)([o1.o.struct],z1.prototype,"A4",null);__c.k(()=>z1.prototype.vs);Object(r1.a)([o1.o.struct],z1.prototype,"vs",null);__c.k(()=>z1.prototype.F4b);Object(r1.a)([o1.o.struct],z1.prototype,"F4b",null);__c.k(()=>z1.prototype.OAb);Object(r1.a)([o1.o.struct],z1.prototype,"OAb",null);__c.k(()=>z1.prototype.v2b);Object(r1.a)([o1.o.struct],z1.prototype,"v2b",null);__c.k(()=>z1.prototype.QAb);Object(r1.a)([o1.o.struct],z1.prototype,"QAb",null);__c.k(()=>z1.prototype.w2b);
Object(r1.a)([o1.o.struct],z1.prototype,"w2b",null);__c.k(()=>z1.prototype.MZb);Object(r1.a)([o1.l],z1.prototype,"MZb",null);__c.k(()=>z1.prototype.TBc);Object(r1.a)([o1.l],z1.prototype,"TBc",null);__c.k(()=>z1.prototype.Lsc);Object(r1.a)([o1.l],z1.prototype,"Lsc",null);__c.k(()=>z1.prototype.duc);Object(r1.a)([o1.l],z1.prototype,"duc",null);__c.k(()=>z1.prototype.HBb);Object(r1.a)([o1.l],z1.prototype,"HBb",null);__c.k(()=>z1.prototype.Dma);Object(r1.a)([o1.l],z1.prototype,"Dma",null);__c.k(()=>z1.prototype.$Kb);
Object(r1.a)([o1.l],z1.prototype,"$Kb",null);__c.k(()=>z1.prototype.lD);Object(r1.a)([o1.l],z1.prototype,"lD",null);__c.k(()=>z1.prototype.U3);Object(r1.a)([o1.l],z1.prototype,"U3",null);__c.k(()=>z1.prototype.P4);Object(r1.a)([o1.o],z1.prototype,"P4",null);__c.k(()=>z1.prototype.Iec);Object(r1.a)([o1.o],z1.prototype,"Iec",null);var qZd=parseInt("256px",10),C1=class extends t1.Component{constructor(){super(...arguments);this.J9a=()=>{this.props.v.J9a()};this.Kad=s1.b(a=>t1.createElement(v1,Object.assign({},a,{Lp:this.props.Lp})))}componentDidMount(){const a=this.props.v,b=this.props.selection;Object(s1.a)(this,$Yd(a));Object(s1.a)(this,o1.J(()=>{var c;a:{if(c=b.state)switch(c.type){case "audio":break;case "pages":c={page:c.page};break a;case "elements":c=c.inner&&"group"===c.inner.type?{page:c.page,elements:c.inner.Ya,parent:c.inner.group}:
{page:c.page,elements:c.elements};break a;default:throw new __c.D(c);}c=void 0}return c},c=>a.pfb(c),{fireImmediately:!0}))}get w0b(){const {v:{mode:a,EMa:b,qh:c}}=this.props;if("pinned"===a||0>=b)return 0;if("overlay"===a)return(c?-1:1)*(b-qZd-4*__c.Uy);throw new __c.D(a);}render(){const a=this.props.v,b=this.props.nm,c=this.props.eq,d=a.mode,e=a.EMa,f=a.vpa,g=a.qh;return t1.createElement(t1.Fragment,null,t1.createElement(A1,{v:a}),t1.createElement("div",{className:kZd()("cJaGbg",{["_4xrvYw"]:"overlay"===
d}),style:{width:`${e}px`,transform:`translateX(${this.w0b}px)`}},a.vs.map(h=>t1.createElement(B1,{key:h.cc.Yb.id,DHc:this.Kad,store:h,v:a,qh:g,nm:b,focused:a.Sg(h),Am:1===c.status,vpa:f,onMouseDown:this.J9a})),a.F4b.map(h=>t1.createElement(B1,{key:h.id,DHc:w1,store:h,v:a,qh:g,nm:b,focused:a.Sg(h),Am:1===c.status,vpa:f,onMouseDown:this.J9a}))))}};__c.k(()=>C1.prototype.w0b);Object(r1.a)([o1.o],C1.prototype,"w0b",null);C1=Object(r1.a)([s1.b],C1);
var A1=class extends t1.Component{componentDidMount(){Object(s1.a)(this,o1.J(()=>WYd(this.props.v),a=>this.offset=a&&a.offset,{equals:o1.n.structural,scheduler:a=>requestAnimationFrame(()=>setTimeout(a,0))}))}render(){return t1.createElement(__c.fWb,null,null!=this.offset&&t1.createElement(__c.Vs,{label:__c.B("CRsrKA",[])},t1.createElement("button",{className:"oPuYeA qtDcVg Y6qKQQ",onClick:this.pDa,style:{transform:`translateY(${this.offset}px)`}},t1.createElement(__c.Ztc,{size:"medium"}))))}pDa(){const a=
this.props.v;a.J9a();dZd(a,"comment_button")}};__c.k(()=>A1.prototype.offset);Object(r1.a)([o1.E.ref],A1.prototype,"offset",void 0);__c.k(()=>A1.prototype.pDa);Object(r1.a)([o1.l.bound],A1.prototype,"pDa",null);A1=Object(r1.a)([s1.b],A1);
var B1=class extends t1.Component{constructor(){super(...arguments);this.element=t1.createRef();this.Wga=()=>{const a=this.props.v,b=this.props.store;{const c=document.getSelection&&document.getSelection();c&&"Range"===c.type&&this.element.current&&c.containsNode(this.element.current,!0)&&c.removeAllRanges()}a.Sg(b)&&document.addEventListener("mouseup",this.K3a,{once:!0})}}render(){const a=this.props.DHc;var b=this.props.vpa,c=this.props.qh;const d=this.props.store,e=this.props.focused,f=kZd()("_3qDOXA qtDcVg",
{["jAmg0A"]:e,["kR-vew"]:b});b=(b?-5:-4)*__c.Uy;c=null!=d.offset?`translate(${e?(c?-1:1)*b:0}px, ${d.offset}px)`:`matrix3d(0${", 0".repeat(15)})`;return t1.createElement(__c.BE,{OP:this.Wga},t1.createElement("div",{ref:this.element,style:{transform:c},className:f,onMouseDown:this.onMouseDown},t1.createElement(mZd.a,{client:!0,onResize:this.Flc},({measureRef:g})=>t1.createElement("div",{ref:g,className:"eC5Pag"},t1.createElement(a,Object.assign({},this.props))))))}Flc(a){this.props.store.rda=a.client.height+
__c.Uy}onMouseDown(){const a=this.props.onMouseDown;p1(this.props.v,this.props.store);a()}K3a(){this.props.v.K3a(this.props.store)}};__c.k(()=>B1.prototype.Flc);Object(r1.a)([o1.l.bound],B1.prototype,"Flc",null);__c.k(()=>B1.prototype.onMouseDown);Object(r1.a)([o1.l.bound],B1.prototype,"onMouseDown",null);__c.k(()=>B1.prototype.K3a);Object(r1.a)([o1.l.bound],B1.prototype,"K3a",null);B1=Object(r1.a)([s1.b],B1);__c.NAc={Pud:function({analytics:a,Bv:b,ea:c,config:d,qh:e,Uca:f,ca:g,Mi:h,Rvb:l,document:p,isDragging:q,nm:t,vb:u,eq:v,selection:y,DJa:A,viewport:C,undo:F,Lp:H}){const I=new __c.LL(a,g,h,l,p,b,A,f,F,N=>new q1(N),N=>__c.ks(u,{Rd:N})),L=new z1(I,p,d,q,y,C,u,e);return new __c.iM({controller:I,ea:c,Component:()=>t1.createElement(C1,{config:d,v:L,nm:t,eq:v,selection:y,Lp:H}),wRa:()=>{},rdb:N=>{WYd(L)&&dZd(L,N)},Aia:N=>{(N=I.eAa(N))&&N.ref&&p1(L,N)},IOb:()=>fZd(L),ROb:()=>gZd(L),t2a:()=>L.mHa,bT:()=>I.bT()})}};
}).call(self, self._43f8a69260d35c35bc704f654cf1c2b6);}},[["MqMFH","fDYT","EEO/","K2W9","P4bM","QA57"]]])
//# sourceMappingURL=188865ab3f584d67bf357f3ca74c01f4.2.js.map