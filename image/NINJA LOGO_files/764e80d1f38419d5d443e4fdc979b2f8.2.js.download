(self["webpackJsonp"] = self["webpackJsonp"] || []).push([["VRx9"],{"MVRx9":function(_,__,__webpack_require__){__webpack_require__.n_x = __webpack_require__.n;__webpack_require__("MP4bM");__webpack_require__("MEEO/");self._43f8a69260d35c35bc704f654cf1c2b6 = self._43f8a69260d35c35bc704f654cf1c2b6 || {};(function(__c) {'use strict';var eEc=function(a,b,c){(a=a.Zra[b])&&a.set(c)},gEc=function(a,b){a.$.track("editor_pagemanager_opened",fEc.Zb(b))},hEc=function(a,b,c,d){a.ZZ("copy",b,c.join(","),d.join(","))},iEc=function(a,b,c){a.ZZ("delete",b,c.join(","))},kEc=function({config:a,document:b,D9:c,KIb:d,oAa:e,analytics:f}){const g=new eP,h=new fP(g,b,c,d,f,e);a.YUa=p=>{h.onMouseDown(p)};a.kHb=(p,q)=>{!g.Xq&&g.axa&&g.hGb&&(h.imc(p),g.Xq&&h.fIb(q.shiftKey))};a.lHb=()=>{h.hmc()};const l=()=>gP.createElement(jEc,{store:g,
v:h});hP.J(()=>g.Xq,p=>a.Ym=p?l:void 0)},lEc=function(a){const b=a.props.pr;var c=a.props.delay;c=c?1E3*c:1E3;const d=Date.now()-a.nqa;__c.Xe(()=>{a.X7c&&(a.IWc=b&&b.observe(a.X7c,a.eha))},c-d)()},mEc=function(a,b,c,d,e){const f=`add-page-component-${c}-${d?"trailing":"leading"}`,g=a.props.store,h=hP.l(v=>{a.jWb?a.tdb=()=>h(v):(a.tdb=null,1===(c+1)%a.dH||eEc(g,d?c:c-1,v?"left":"none"),d||eEc(g,c,v?"right":"none"))}),l=a.props.v,p=a.props.analytics,q=d?c+1:c,t=c%a.dH,u=b.width+a.Bba;return gP.createElement("div",
{style:{height:b.height,transform:`translate(${(t*u+(d?u:0)+a.u0a/2)*(2===__c.vd.direction?-1:1)}px, ${(c-t)/a.dH*(b.height+a.P8c)}px)`},key:f,className:"sg_o2A"},gP.createElement(iP,{onClick:()=>{const v=q+1;l.OLa(q);p.ZZ("add","add_hover_btn",v,v);a.jWb=!0;setTimeout(()=>{a.jWb=!1;a.tdb&&a.tdb()},300)},Ch:h,fe:q,last:e,v:l,store:g,analytics:p}))},nEc=function(a,b,c){const d=b%a.dH;return{left:(c.width+a.Bba)*d+a.Bba,top:(b-d)/a.dH*(c.height+a.P8c)}},oEc=function(a,b,c){const {left:d,top:e}=nEc(a,
b,c);return{x:(d+a.u0a/2)*(2===__c.vd.direction?-1:1),y:e}},pEc=function(a,b,c){return a.hrb?a.props.ab.get()===b?.4:a.nZb(c):a.t3.has(b)?0:.4},qEc=function(a,b,c){const {left:d,top:e}=nEc(a,b,c);return`translate(${(d+a.u0a/2)*(2===__c.vd.direction?-1:1)}px, ${e}px)`},rEc=function(a,b){a.u0a=b.width-((a.props.v.PE+a.Bba)*a.dH+a.Bba)},sEc=function(a,b){return a.document.fa.count()<a.Be&&(!b||a.document.fa.has(b))},tEc=function(a,b){return a.document.fa.count()+b.mb.size<=a.Be},uEc=function(a,b){b=
__c.Ci(b);return{width:a.PE,height:b.height/b.width*a.PE,scale:a.PE/b.width}},vEc=function(a,b){({scale:a}=uEc(a,b));return a},jP=__webpack_require__("mrSG");var hP=__webpack_require__("2vnA");var kP=__webpack_require__("TyAF");var gP=__webpack_require__("q1tI");var wEc=__webpack_require__("C5fj"),xEc=__webpack_require__.n_x(wEc);var yEc=__webpack_require__("TSYQ"),lP=__webpack_require__.n_x(yEc);var zEc=__webpack_require__("+aUL");var AEc=__webpack_require__("CMvH");var fEc=class{static Zb(a){return __c.Nb({["location"]:a.location,["category_id"]:a.categoryId,["source"]:a.source,["document_id"]:a.ca,["doctype_id"]:a.ha})}};var BEc=class{constructor(a){this.$=a}$Z(a){this.$.track("editor_pagemanager_page_selected",__c.Nb({["num_pages_selected"]:a.gFd,["category_id"]:a.categoryId,["method"]:a.method,["document_id"]:a.ca,["doctype_id"]:a.ha}))}ZZ(a){this.$.track("editor_pagemanager_page_altered",__c.Nb({["category_id"]:a.categoryId,["control_context"]:a.yd,["document_id"]:a.ca,["doctype_id"]:a.ha,["target_position"]:a.F7c,["action"]:a.action,["source_position"]:a.A6c}))}};var CEc=class{constructor(a,b){this.opts=b;this.analytics=new BEc(a)}$Z(a,b){this.analytics.$Z({ha:this.opts.ha,ca:this.opts.ca,categoryId:this.opts.categoryId,gFd:a,method:b})}ZZ(a,b,c,d){this.analytics.ZZ({ha:this.opts.ha,ca:this.opts.ca,categoryId:this.opts.categoryId,action:a,yd:b,A6c:null===c||void 0===c?void 0:c.toString(),F7c:null===d||void 0===d?void 0:d.toString()})}};var eP=class{constructor(){this.jYa=this.axa=!1}};__c.k(()=>eP.prototype.Xq);Object(jP.a)([hP.E.ref],eP.prototype,"Xq",void 0);__c.k(()=>eP.prototype.axa);Object(jP.a)([hP.E.ref],eP.prototype,"axa",void 0);__c.k(()=>eP.prototype.hGb);Object(jP.a)([hP.E.ref],eP.prototype,"hGb",void 0);__c.k(()=>eP.prototype.jYa);Object(jP.a)([hP.E.ref],eP.prototype,"jYa",void 0);
var mP=class{constructor(a,b,c,d){this.start=a;this.document=b;this.mb=c;this.oAa=d;this.append=!1;this.end=a}onMouseMove(a){this.end=a}get box(){const [a,b]=this.start.x<this.end.x?[this.start.x,this.end.x]:[this.end.x,this.start.x],[c,d]=this.start.y<this.end.y?[this.start.y,this.end.y]:[this.end.y,this.start.y];return{top:c,left:a,width:b-a,height:d-c}}get fa(){return this.append?new Set([...this.n5a,...this.mb].filter(a=>!(this.n5a.has(a)&&this.mb.has(a)))):this.n5a}get n5a(){const a=new Set;
this.document.fa.forEach(b=>{const c=this.oAa(b);var d;if(d=c){{var e=this.box;d=e.top;const f=e.left,g=e.width;e=e.height;d=!(c.bottom<d||c.right<f||c.top>d+e||c.left>f+g)}}d&&a.add(b)});return a}};__c.k(()=>mP.prototype.end);Object(jP.a)([hP.E.ref],mP.prototype,"end",void 0);__c.k(()=>mP.prototype.append);Object(jP.a)([hP.E.ref],mP.prototype,"append",void 0);__c.k(()=>mP.prototype.box);Object(jP.a)([hP.o],mP.prototype,"box",null);__c.k(()=>mP.prototype.fa);
Object(jP.a)([hP.o],mP.prototype,"fa",null);__c.k(()=>mP.prototype.n5a);Object(jP.a)([hP.o],mP.prototype,"n5a",null);var fP=class{constructor(a,b,c,d,e,f){this.store=a;this.document=b;this.D9=c;this.KIb=d;this.analytics=e;this.oAa=f}onMouseDown(a){this.store.axa=!0;this.store.hGb=a}imc(a){const b=this.store.axa,c=this.store.hGb;!this.store.Xq&&b&&c&&8<Math.abs(a.x-c.x)+Math.abs(a.y-c.y)&&(this.store.Xq=new mP(a,this.document,this.D9.mb,this.oAa),this.D9.PNb(!0),this.store.jYa=!1)}hmc(){this.store.axa=!1}onMouseMove(a){const b=__c.n(this.store.Xq);b.onMouseMove(a);this.pJa(b)}onMouseUp(){const a=__c.n(this.store.Xq);
this.pJa(a);this.store.Xq=void 0;this.D9.PNb(!1);this.store.jYa&&this.analytics.$Z(this.D9.mb.size,"drag");this.store.axa=!1}fIb(a){const b=__c.n(this.store.Xq);b.append=a;this.pJa(b)}pJa(a){this.document.fa.forEach(b=>{a.fa.has(b)&&!this.D9.mb.has(b)?(this.KIb.Cj(this.D9,b),this.store.jYa=!0):!a.fa.has(b)&&this.D9.mb.has(b)&&(this.KIb.RK(this.D9,b),this.store.jYa=!0)})}};__c.k(()=>fP.prototype.onMouseDown);Object(jP.a)([hP.l],fP.prototype,"onMouseDown",null);__c.k(()=>fP.prototype.imc);
Object(jP.a)([hP.l],fP.prototype,"imc",null);__c.k(()=>fP.prototype.hmc);Object(jP.a)([hP.l],fP.prototype,"hmc",null);__c.k(()=>fP.prototype.onMouseMove);Object(jP.a)([hP.l],fP.prototype,"onMouseMove",null);__c.k(()=>fP.prototype.onMouseUp);Object(jP.a)([hP.l],fP.prototype,"onMouseUp",null);__c.k(()=>fP.prototype.fIb);Object(jP.a)([hP.l],fP.prototype,"fIb",null);var jEc=class extends gP.Component{constructor(){super(...arguments);this.onMouseMove=a=>{this.props.v.onMouseMove({x:a.clientX,y:a.clientY})};this.onMouseUp=()=>{this.props.v.onMouseUp()};this.Dh=a=>{this.props.v.fIb(a.shiftKey)}}componentDidMount(){document.addEventListener("mousemove",this.onMouseMove);document.addEventListener("mouseup",this.onMouseUp);document.addEventListener("keydown",this.Dh);document.addEventListener("keyup",this.Dh)}componentWillUnmount(){document.removeEventListener("mousemove",
this.onMouseMove);document.removeEventListener("mouseup",this.onMouseUp);document.removeEventListener("keydown",this.Dh);document.removeEventListener("keyup",this.Dh)}render(){const {top:a,left:b,width:c,height:d}=__c.n(this.props.store.Xq).box;return gP.createElement("div",{style:{top:a,left:b,width:c,height:d},className:"qW-r1Q"})}};jEc=Object(jP.a)([kP.b],jEc);var DEc=(a,b)=>class extends gP.Component{constructor(c){super(c);this.timeline=__c.Mb(a,"editing.page_manager.PageManager.initial_render")}render(){return gP.createElement(b,Object.assign({},this.props))}componentDidMount(){null!=this.timeline&&(this.timeline.Wh("mounted"),this.timeline.done(),this.timeline=void 0)}};var nP=class extends gP.Component{constructor(){super(...arguments);this.elementRef=gP.createRef();this.SZc=a=>{a.target instanceof HTMLElement&&"MAIN"===a.target.tagName&&this.elementRef.current&&this.elementRef.current.focus()};this.Lm=a=>{const b=this.props.store,c=this.props.analytics,d=b.ge;this.props.v.T0(b);iEc(c,"key_press",d);this.Rra(a)};this.hnc=a=>{const b=this.props.store,c=this.props.analytics;this.props.v.B$(b);c.$Z(b.mb.size,"key_press");this.Rra(a)};this.onPaste=a=>{this.props.v.PEa(this.props.store);
this.Rra(a)};this.onCopy=a=>{this.props.v.ut(this.props.store);this.Rra(a)};this.onCut=a=>{var b=this.props.v,c=this.props.store,d=Array.from(c.mb);c.oba=d;b.T0(c);this.Rra(a)};this.NDa=a=>{this.props.v.w7a(this.props.store);this.Rra(a)};this.flc=a=>{const b=this.props.store,c=this.props.v;0<b.mb.size?b.deselectAll():c.kja();this.Rra(a)};this.Rra=a=>{a.preventDefault();a.stopPropagation()};this.kWa=a=>{a.stopPropagation()};this.IJc=[["backspace",this.Lm],["del",this.Lm],[(0,__c.hp)("a"),this.hnc],
[(0,__c.hp)("c"),this.onCopy],[(0,__c.hp)("d"),this.NDa],[(0,__c.hp)("v"),this.onPaste],[(0,__c.hp)("x"),this.onCut],["escape",this.flc],[(0,__c.hp)("s"),void 0],[(0,__c.hp)("z"),void 0],[(0,__c.hp)((0,__c.Hy)("z")),void 0],[(0,__c.hp)("y"),void 0],[(0,__c.hp)("/"),void 0],["tab",this.kWa],[(0,__c.Hy)("tab"),this.kWa],["up",this.kWa],["down",this.kWa],["left",this.kWa],["right",this.kWa]]}render(){return gP.createElement(__c.iOb,{map:this.map,rl:!1},({ref:a})=>gP.createElement("div",{ref:xEc()(a,
this.elementRef),tabIndex:-1},this.props.children))}componentDidMount(){this.elementRef.current&&this.elementRef.current.focus();document.addEventListener("focusin",this.SZc)}componentWillUnmount(){document.removeEventListener("focusin",this.SZc)}get map(){const a=[];this.props.GE.map.forEach(([b])=>{const c=this.IJc.find(([d])=>__c.Jaa(b,d));c?c[1]&&a.push([b,c[1]]):a.push([b,this.Rra])});this.IJc.forEach(([b,c])=>{!this.props.GE.map.find(([d])=>__c.Jaa(b,d))&&c&&a.push([b,c])});return a}};
__c.k(()=>nP.prototype.Lm);Object(jP.a)([hP.l],nP.prototype,"Lm",void 0);__c.k(()=>nP.prototype.hnc);Object(jP.a)([hP.l],nP.prototype,"hnc",void 0);__c.k(()=>nP.prototype.onPaste);Object(jP.a)([hP.l],nP.prototype,"onPaste",void 0);__c.k(()=>nP.prototype.onCut);Object(jP.a)([hP.l],nP.prototype,"onCut",void 0);__c.k(()=>nP.prototype.NDa);Object(jP.a)([hP.l],nP.prototype,"NDa",void 0);__c.k(()=>nP.prototype.flc);Object(jP.a)([hP.l],nP.prototype,"flc",void 0);__c.k(()=>nP.prototype.map);
Object(jP.a)([hP.o],nP.prototype,"map",null);var EEc=kP.b(({document:a,Ud:b,jFd:c,bFd:d,IEd:e,qDa:f,xk:g,IDa:h,Leb:l,$qa:p})=>{b=!c||a.fa.count()>=b;a=!c||1>=a.fa.count();const q=1!==c;c=e?__c.B("i1AT5A",[c]):__c.B("7gW8Yw",[]);return gP.createElement("div",{className:"KFZiwA"},gP.createElement(__c.fz,{Bc:__c.B("WpvrgQ",[]),disabled:b,className:"R3F9Ag",icon:__c.OD,onClick:f,vc:!0}),gP.createElement(__c.fz,{Bc:__c.B("94lziw",[]),disabled:b,className:"R3F9Ag",icon:__c.Vt,onClick:g,vc:!0}),gP.createElement(__c.fz,{Bc:__c.B("XYaY+Q",[]),disabled:a,
className:"R3F9Ag",icon:__c.QD,onClick:h,vc:!0}),gP.createElement(__c.ruc,null),gP.createElement(__c.fz,{Bc:c,active:e,className:"R3F9Ag",onClick:l,vc:!0},c),gP.createElement(__c.fz,{Bc:__c.B("+28ZvQ",[]),eg:!0,active:d,disabled:q,className:"R3F9Ag",onClick:p,vc:!0},__c.B("+28ZvQ",[])))});var FEc=__c.vd.direction,GEc=parseInt("46px",10)||0,HEc=class extends gP.Component{render(){const a=this.props.document,b=this.props.v,c=this.props.store,d=this.props.config;return gP.createElement("div",{className:lP()("_--PfXg",{["_-5U9IQ"]:null!=c.selectionStart})},gP.createElement("div",{className:"Db9MGA"},gP.createElement(__c.sN,{config:d,onClick:b.kja,loading:!1,xJa:!0,Cc:a.fa.count()})))}},oP=class extends gP.Component{constructor(){super(...arguments);this.V$=!1;this.UZ=gP.createRef();this.Nuc=
()=>{const a=this.UZ.current;a&&a.scrollTo({left:2===FEc&&"reverse"!==Object(zEc.a)()?a.scrollLeft-a.clientWidth:a.scrollLeft+a.clientWidth,behavior:"smooth"})};this.onScroll=__c.Xe(this.H6,16)}get yAc(){return 0<this.props.store.mb.size}Tkc(){const a=this.props.store,b=this.props.v,c=this.props.pG;hEc(this.props.analytics,"editor_toolbar",a.ge,a.ZJb);b.w7a(a);c.set(!1)}IDa(){const a=this.props.store,b=this.props.v,c=this.props.pG;iEc(this.props.analytics,"editor_toolbar",a.ge);b.T0(a);c.set(!1)}Leb(){const a=
this.props.store;var b=!a.jx;b||a.deselectAll();a.pqb=b}$qa(){const a=this.props.pG;a.set(!a.get())}get VTb(){const a=this.props.document,b=this.props.store,c=this.props.pG,d=this.props.hDa;if(1===b.mb.size&&c.get())return gP.createElement(__c.pN,{DL:this.DL,wt:a.language,page:b.selectionStart,Ug:this.$qa,analytics:d})}get DL(){const a=this.props.document.doctype;return"REFERENCE"===a.type&&__c.pE(a.id)}H6(){const a=this.UZ.current;a&&(this.V$=2===FEc?Object(zEc.b)(a,"rtl")>GEc:a.scrollWidth-a.scrollLeft>
a.clientWidth+GEc)}componentDidMount(){kP.a(this,hP.J(()=>this.yAc,()=>{const a=__c.n(this.UZ.current);2===FEc?Object(zEc.c)(a,a.scrollWidth,"rtl"):a.scrollLeft=0}));requestAnimationFrame(this.H6)}render(){const a=this.props.store,b=this.props.qDa;return gP.createElement("div",{className:"_9qf8vA"},gP.createElement("div",{ref:this.UZ,className:"fnhOUg",onScroll:this.onScroll},gP.createElement(EEc,{document:this.props.document,Ud:this.props.v.Be,jFd:a.mb.size,bFd:this.props.pG.get(),IEd:a.jx,qDa:b,
xk:this.Tkc,IDa:this.IDa,Leb:this.Leb,$qa:this.$qa})),gP.createElement(__c.eAc,{onClick:this.Nuc,Avb:!this.V$}),this.VTb)}};__c.k(()=>oP.prototype.V$);Object(jP.a)([hP.E.ref],oP.prototype,"V$",void 0);__c.k(()=>oP.prototype.yAc);Object(jP.a)([hP.o],oP.prototype,"yAc",null);__c.k(()=>oP.prototype.Tkc);Object(jP.a)([hP.l.bound],oP.prototype,"Tkc",null);__c.k(()=>oP.prototype.IDa);Object(jP.a)([hP.l.bound],oP.prototype,"IDa",null);__c.k(()=>oP.prototype.Leb);
Object(jP.a)([hP.l.bound],oP.prototype,"Leb",null);__c.k(()=>oP.prototype.$qa);Object(jP.a)([hP.l.bound],oP.prototype,"$qa",null);__c.k(()=>oP.prototype.VTb);Object(jP.a)([hP.o],oP.prototype,"VTb",null);__c.k(()=>oP.prototype.DL);Object(jP.a)([hP.o],oP.prototype,"DL",null);__c.k(()=>oP.prototype.H6);Object(jP.a)([hP.l.bound],oP.prototype,"H6",null);oP=Object(jP.a)([kP.b],oP);
var pP=class extends gP.Component{constructor(){super(...arguments);this.pG=hP.E.box(!1)}qDa(){const a=this.props.v;var b=this.props.store;a.fm()&&(b=b.ge.sort(),a.OLa(b[b.length-1]),this.pG.set(!1))}Gc(){this.pG.set(!1)}render(){return gP.createElement(gP.Fragment,null,gP.createElement(HEc,Object.assign({},this.props)),gP.createElement(__c.tw,{position:"top",size:"auto",open:!0,Qm:!1,overlay:this.pG.get(),QCa:"lazy",Esa:!1,fY:this.Gc,content:gP.createElement(oP,Object.assign({},this.props,{pG:this.pG,
qDa:this.qDa}))}))}};__c.k(()=>pP.prototype.pG);Object(jP.a)([hP.E.ref],pP.prototype,"pG",void 0);__c.k(()=>pP.prototype.qDa);Object(jP.a)([hP.l.bound],pP.prototype,"qDa",null);__c.k(()=>pP.prototype.Gc);Object(jP.a)([hP.l.bound],pP.prototype,"Gc",null);pP=Object(jP.a)([kP.b],pP);var IEc=class extends gP.Component{constructor(){super(...arguments);this.onClick=()=>{if(this.props.fm)this.props.onClick()}}get kXd(){return this.props.fm?__c.B("xysR8w",[]):__c.B("GX3lQg",[])}render(){const a=this.props.fm;return gP.createElement(__c.yt,{mg:this.kXd,className:lP()("VLXx7w","QRXaXA",{["GCf3Hw"]:!a}),icon:__c.OD,size:"small",onClick:this.onClick})}},iP=class extends gP.Component{constructor(){super(...arguments);this.eJb=this.iP=this.sX=!1;this.NZb=a=>{a||(this.props.Ch(!1),this.iP=
!1)};this.hxc=()=>{this.iP=this.eJb;this.props.Ch(this.iP)};this.oTd=__c.Xe(this.hxc,100);this.z5c=a=>{this.eJb=a;this.oTd()};this.onDragEnter=()=>{this.props.store.bTa||this.z5c(!0)};this.onDragLeave=()=>{this.props.store.bTa||this.z5c(!1)};this.onDrop=()=>{const a=this.props.v,b=this.props.store;var c=b.ge;this.props.analytics.ZZ("reorder","drag",b.ge.join(","),c.join(","));a.pqa(b,this.props.fe);this.iP=!1};this.onMouseEnter=()=>{var a=this.props.last;const b=this.props.Ch,c=this.props.v,d=this.props.store;
(a=!d.isDragging&&!a&&!d.bTa&&!c.tX)&&b(!0);this.sX=a};this.onMouseLeave=()=>{const a=this.props.last,b=this.props.Ch,c=this.props.v,d=this.props.store;d.isDragging||a||d.bTa||c.tX||b(!1);this.sX=!1}}componentDidMount(){kP.a(this,hP.J(()=>this.props.store.isDragging,this.NZb))}render(){const a=this.props.onClick,b=this.props.last,c=this.props.v,d=this.props.store;return gP.createElement(gP.Fragment,null,gP.createElement("div",{className:lP()("csKqGw",{["c--X8w"]:this.sX}),onMouseEnter:this.onMouseEnter,
onMouseLeave:this.onMouseLeave},!b&&!c.tX&&gP.createElement(IEc,{onClick:a,fm:c.fm()}),gP.createElement("div",{className:lP()("sTsMPA",{["_9a_8ZA"]:d.isDragging}),onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDrop:this.onDrop})),gP.createElement("div",{className:lP()("TBATlg",{["OMTn4Q"]:this.iP})}))}};__c.k(()=>iP.prototype.sX);Object(jP.a)([hP.E.ref],iP.prototype,"sX",void 0);__c.k(()=>iP.prototype.iP);Object(jP.a)([hP.E.ref],iP.prototype,"iP",void 0);__c.k(()=>iP.prototype.eJb);
Object(jP.a)([hP.E.ref],iP.prototype,"eJb",void 0);__c.k(()=>iP.prototype.NZb);Object(jP.a)([hP.l],iP.prototype,"NZb",void 0);__c.k(()=>iP.prototype.hxc);Object(jP.a)([hP.l],iP.prototype,"hxc",void 0);__c.k(()=>iP.prototype.onDragEnter);Object(jP.a)([hP.l],iP.prototype,"onDragEnter",void 0);__c.k(()=>iP.prototype.onDragLeave);Object(jP.a)([hP.l],iP.prototype,"onDragLeave",void 0);__c.k(()=>iP.prototype.onDrop);Object(jP.a)([hP.l],iP.prototype,"onDrop",void 0);__c.k(()=>iP.prototype.onMouseEnter);
Object(jP.a)([hP.l],iP.prototype,"onMouseEnter",void 0);__c.k(()=>iP.prototype.onMouseLeave);Object(jP.a)([hP.l],iP.prototype,"onMouseLeave",void 0);iP=Object(jP.a)([kP.b],iP);var JEc=class extends gP.Component{render(){const a=this.props.Z8a,b=this.props.ab,c=this.props.delay;return gP.createElement("div",{className:lP()({["bFY6tA"]:a,["a8AyBA"]:b}),style:{animationDelay:`${c}s`}},this.props.children)}};var KEc=class extends gP.Component{constructor(){super(...arguments);this.VZa=!this.props.KCc;this.nqa=Date.now();this.eha=a=>{a&&!this.VZa&&(this.VZa=!0,this.forceUpdate())};this.gld=a=>{this.X7c=a}}shouldComponentUpdate(a){const b=this.props.ga,c=this.props.delay,d=this.props.sXb;return a.ga.width!==b.width||a.ga.height!==b.height||a.ga.scale!==b.scale||a.delay!==c||a.sXb!==d||!this.VZa}componentDidMount(){this.nqa=Date.now()}componentDidUpdate(){this.VZa||lEc(this)}componentWillUnmount(){this.IWc&&
this.IWc()}render(){var a=this.props.page;const b=this.props.r6d,c=this.props.url,d=this.props.Va,e=this.props.ga,f=this.props.sXb,g=e.width,h=e.height;a=null!=c?gP.createElement("img",{role:"none",style:{width:g,height:h},src:c}):gP.createElement(__c.pI,{ga:e},gP.createElement(d,{page:a,Si:!1}));return gP.createElement("div",{style:{height:h,width:g},className:lP()("_-ZLRBw",{["nQ0JiA"]:f}),ref:this.gld},gP.createElement("div",{className:lP()({["ElRQuw"]:!b,["RBGQMg"]:this.VZa&&!b})},(this.VZa||
null!=c)&&a),gP.createElement("div",{className:"PlNh-g"}))}};var LEc=({title:a,fe:b,selected:c})=>{b=a?__c.B("XTf4UQ",[b,a]):b;return gP.createElement(__c.Vs,{disabled:!a,label:a||""},gP.createElement("div",{className:lP()("_35i6Ww de2usg XvGYmg",{["MTmVVw"]:c})},b))};var MEc=class extends gP.Component{constructor(){super(...arguments);this.mwd=()=>{const a=this.props.fe,b=this.props.analytics;this.props.v.U4b(this.props.page);hEc(b,"page_control",[a],[a+1])};this.lwd=()=>{const a=this.props.fe,b=this.props.analytics;this.props.v.mma(this.props.store,this.props.page);iEc(b,"page_control",[a])}}get nqd(){return sEc(this.props.v,this.props.page)?__c.B("ws5QPA",[]):__c.B("C56f/A",[])}render(){const a=this.props.page,b=this.props.v,c=this.props.selected;return gP.createElement("div",
{className:"tdX3sA"},gP.createElement(__c.YG,null),gP.createElement(__c.ZG,null,gP.createElement(__c.yt,{mg:this.nqd,className:lP()("Wff-SA",{["_2Qsw4w"]:c}),ag:"small",icon:__c.Vt,size:"small",onClick:this.mwd,disabled:!sEc(b,a)}),gP.createElement(__c.yt,{mg:__c.B("k+Gzuw",[]),className:lP()("Wff-SA",{["_2Qsw4w"]:c}),ag:"small",icon:__c.QD,size:"small",onClick:this.lwd,disabled:!b.jNa(a)})))}};MEc=Object(jP.a)([kP.b],MEc);var qP=class extends gP.Component{constructor(){super(...arguments);this.cZa=!1;this.onMouseEnter=()=>{this.cZa=!0};this.onMouseLeave=()=>{this.cZa=!1};this.onClick=a=>{const b=this.props.page,c=this.props.store,d=this.props.v,e=this.props.analytics;a.shiftKey?d.Uvc(c,b):this.selected?d.RK(c,b):d.Cj(c,b);e.$Z(c.mb.size,"click")}}get selected(){return this.props.store.mb.has(this.props.page)}get isDragging(){return this.props.store.isDragging&&this.selected}get DVc(){const a=this.props.store;return this.props.v.tX&&
a.jx}get rotation(){const a=this.props.store.awc.indexOf(this.props.page);if(this.isDragging&&3>a&&-1!==a)return-2*a}get transformStyle(){if(this.rotation)return`rotate(${this.rotation}deg)`}get QPd(){const a=this.props.store.nBb(this.props.fe);return{["AhDe2A"]:!this.isDragging&&a&&"left"===a.get(),["FPa7Zw"]:!this.isDragging&&a&&"right"===a.get()}}componentDidMount(){this.props.store.PLa()}render(){const a=this.props.$y,b=this.props.page,c=this.props.url,d=this.props.fe,e=this.props.ab,f=this.props.ga,
g=this.props.Va,h=this.props.store,l=this.props.v,p=this.props.analytics,q=this.props.onDoubleClick,t=this.props.pr,u=this.props.delay,v=this.props.KCc,y=f.width;return gP.createElement("div",{className:lP()("VY3uIw",this.QPd),style:{transform:this.transformStyle,width:y},ref:a,onClick:this.onClick,onDoubleClick:q,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},gP.createElement("div",{className:lP()({["YseCWw"]:this.selected,["rL54PA"]:this.DVc&&!this.selected,["NTXiQg"]:h.isDragging})}),
gP.createElement("div",{className:lP()({["hP-2gA"]:!h.isDragging,["_7sOisg"]:h.isDragging})},gP.createElement(KEc,{page:b,url:c,sXb:!this.selected&&!this.DVc,Va:g,ga:f,pr:t,delay:u,KCc:v&&!e})),gP.createElement("div",{className:lP()("_5-KtsQ")},gP.createElement("div",{className:lP()("eFK7kQ",{["NTXiQg"]:this.isDragging||this.cZa&&!l.tX})},gP.createElement(LEc,{title:b.title,fe:d+1,selected:this.selected&&!this.isDragging})),!l.tX&&gP.createElement("div",{className:lP()("e9qM_g",{["NTXiQg"]:!this.cZa||
this.isDragging})},gP.createElement(MEc,{page:b,fe:d+1,selected:this.selected,store:h,v:l,analytics:p}))))}};__c.k(()=>qP.prototype.cZa);Object(jP.a)([hP.E.ref],qP.prototype,"cZa",void 0);__c.k(()=>qP.prototype.selected);Object(jP.a)([hP.o],qP.prototype,"selected",null);__c.k(()=>qP.prototype.isDragging);Object(jP.a)([hP.o],qP.prototype,"isDragging",null);__c.k(()=>qP.prototype.rotation);Object(jP.a)([hP.o],qP.prototype,"rotation",null);__c.k(()=>qP.prototype.transformStyle);
Object(jP.a)([hP.o],qP.prototype,"transformStyle",null);__c.k(()=>qP.prototype.onMouseEnter);Object(jP.a)([hP.l],qP.prototype,"onMouseEnter",void 0);__c.k(()=>qP.prototype.onMouseLeave);Object(jP.a)([hP.l],qP.prototype,"onMouseLeave",void 0);__c.k(()=>qP.prototype.onClick);Object(jP.a)([hP.l],qP.prototype,"onClick",void 0);qP=Object(jP.a)([kP.b],qP);var rP=class extends gP.Component{constructor(){super(...arguments);this.eJ=()=>{this.props.v.deselectAll(this.props.store)};this.NDa=()=>{const a=this.props.store,b=this.props.v;hEc(this.props.analytics,"editor_toolbar",a.ge,a.ZJb);b.w7a(a)};this.Lm=()=>{const a=this.props.store,b=this.props.v;iEc(this.props.analytics,"editor_toolbar",a.ge);b.T0(a)}}render(){const a=this.props.store,b=this.props.v,c=a.mb.size;return gP.createElement(__c.fsc,null,0<c&&gP.createElement(gP.Fragment,null,gP.createElement(__c.YG,
null,gP.createElement(__c.fz,{onClick:this.eJ,Bc:__c.B("JCRcgg",[c])},__c.B("JCRcgg",[c]))),gP.createElement(__c.ZG,null,gP.createElement(__c.yt,{mg:__c.B("qZyl5Q",[]),icon:__c.Vt,onClick:this.NDa,size:"small",disabled:!tEc(b,a)}),gP.createElement(__c.yt,{mg:__c.B("6LXqEw",[]),icon:__c.QD,size:"small",onClick:this.Lm}))))}};__c.k(()=>rP.prototype.eJ);Object(jP.a)([hP.l],rP.prototype,"eJ",void 0);__c.k(()=>rP.prototype.NDa);Object(jP.a)([hP.l],rP.prototype,"NDa",void 0);__c.k(()=>rP.prototype.Lm);
Object(jP.a)([hP.l],rP.prototype,"Lm",void 0);rP=Object(jP.a)([kP.b],rP);var sP=class extends gP.Component{constructor(){super(...arguments);this.rY=gP.createRef();this.t3=new Map;this.jWb=!1;this.hrb=!0;this.zNc=this.ANc=0;this.CUc=!0;this.tTc=!1;this.u0a=0;this.dH=1;this.P8c=2*(parseInt("28px",10)||20);this.PTc=parseInt("24px",10)||24;this.Bba=parseInt("24px",10)||24;this.YFb=parseInt("176px",10)||176;this.nDd=parseInt("224px",10)||224;this.stopPropagation=a=>a.stopPropagation();this.xeb=()=>{this.props.v.pqa(this.props.store)};this.nZb=a=>{const b=this.props.store;
return.8+(Math.abs(Math.floor(a/this.dH)-this.ANc)*(b.zfc?1:1.5)+Math.abs(a%this.dH-this.zNc)*(b.zfc?1:.5))/(b.zfc?16:2.5)};this.onResize=a=>{if(this.rY.current&&a.client)if(a.client.width<__c.qd){a=a.client;var b=this.props.v;this.dH=2;b.PE=(a.width-2*this.PTc-this.Bba)/this.dH;rEc(this,a)}else{{a=a.client;b=(a.width-2*this.PTc-this.Bba)/(this.Bba+this.YFb);var c=Math.floor(b);const d=Math.max(c,1);c=Math.min(this.YFb+(b-c)*(this.YFb+this.Bba)/d,this.nDd);this.props.v.PE=1<b?c:this.YFb;this.dH=d;
rEc(this,a)}}};this.onDragStart=a=>{const b=this.props.store,c=this.props.v;b.mb.has(a)||(c.deselectAll(b),c.Cj(b,a));b.ANb(!0)};this.onDragEnd=()=>{this.props.store.ANb(!1)};this.VGb=()=>{const a=this.props.store,b=this.props.analytics;this.props.v.OLa();b.ZZ("add","add_end_btn",a.zma.length,a.zma.length)};this.di=a=>{const b=this.props.v;this.props.config.active&&(a.stopPropagation(),b.kja())};this.vJd=a=>hP.l(()=>{const b=this.props.config,c=this.props.store,d=this.props.v;c.deselectAll();d.Cj(c,
a);b.active=!1});this.qVc=a=>{a=a.target;return a===this.rY.current||"csKqGw"===a.className};this.onMouseDown=a=>{this.qVc(a)&&(a={x:a.clientX,y:a.clientY},this.props.YUa&&this.props.YUa(a))};this.onMouseMove=a=>{const b={x:a.clientX,y:a.clientY};this.props.kHb&&this.props.kHb(b,a)};this.onMouseUp=a=>{this.qVc(a)&&!this.props.store.isDragging&&(this.props.lHb&&this.props.lHb(),this.props.v.deselectAll(this.props.store))};this.ald=(a,b)=>c=>{this.t3.set(a,{ref:c,offsetY:b})}}componentDidMount(){var a=
this.props.gHa;const b=this.props.pr;setTimeout(()=>this.hrb=!1,800+100*this.dH);a(this);a=__c.n(this.rY.current,"Container should exist after mounting");b&&(this.UYc=__c.Ri(b,a,"50%"));this.CUc=!1}componentDidUpdate(){const a=this.props.v,b=this.t3.get(this.props.ab.get());!this.tTc&&b&&(a.kv(this.rY.current,b.offsetY),this.tTc=!0)}componentWillUnmount(){this.UYc&&this.UYc();this.props.store.deselectAll()}render(){const a=this.props.config,b=this.props.document,c=this.props.Va,d=this.props.ab,e=
this.props.store,f=this.props.v,g=this.props.analytics,h=this.props.GE,l=this.props.pr,p=this.props.hDa,q=a.Ym;e.dyc(this.rY.current||void 0);e.fyc(this.t3);const t=uEc(f,b.ga),u=e.zma.indexOf(d.get());this.ANc=Math.floor(u/this.dH);this.zNc=u%this.dH;const v=[];let y=0;Array.from(e.Aub.keys()).forEach((C,F)=>{var H=mEc(this,t,F);F=0===(F+1)%this.dH?mEc(this,t,F,!0):null;v.push(H);H=e.zma.indexOf(C);var {top:I}=nEc(this,H,t);const L=t.width,N=t.height;I+=N/2;const R=oEc(this,H,t);e.mb.has(C)&&(y+=
1);v.push(gP.createElement(__c.yN,{key:b.fa.Xea(C),CXa:160,L0c:this.rY,onDragStart:()=>this.onDragStart(C),onDragEnd:()=>this.onDragEnd(C),IN:R,w1c:gP.createElement("div",{className:"SVGdJA",style:{width:L,height:N}}),LYa:e.mb.has(C),LTc:3<y},gP.createElement(JEc,{ab:u===H,Z8a:this.hrb||!this.t3.has(C),delay:pEc(this,C,H)},gP.createElement(qP,{$y:this.ald(C,I),page:C,fe:H,url:e.Aub.get(C),ab:u===H,ga:t,Va:c,store:e,v:f,analytics:g,onDoubleClick:this.vJd(C),pr:l,delay:this.nZb(H+1),KCc:this.CUc}))));
F&&v.push(F)});const A=gP.createElement("div",{style:{transform:qEc(this,e.zma.length,t)},className:lP()("QWrccA",{["OIK8oA"]:f.tX}),onDrop:this.xeb},gP.createElement(JEc,{ab:!1,Z8a:this.hrb,delay:this.nZb(b.fa.count())},gP.createElement(__c.vxc,{ga:t,isDragging:e.isDragging,fm:f.fm(),Ud:f.Be,VGb:this.VGb})));return gP.createElement(AEc.a,{client:!0,onResize:this.onResize},({measureRef:C})=>gP.createElement(nP,{store:e,v:f,analytics:g,GE:h},gP.createElement(__c.Ie,{di:this.di},gP.createElement("div",
{ref:C,className:"x4xaFA",tabIndex:-1},!f.tX&&gP.createElement("div",{className:"o8GWuA"},gP.createElement(rP,{store:e,v:f,analytics:g})),gP.createElement("div",{ref:this.rY,className:"Dk_nbg",tabIndex:-1,onMouseDown:this.onMouseDown,onMouseMove:this.onMouseMove,onDrop:this.stopPropagation,onMouseUp:this.onMouseUp},v,mEc(this,t,e.zma.length,!1,!0),A,q&&gP.createElement(q,null))),gP.createElement("div",null,f.tX&&gP.createElement(pP,{document:b,v:f,store:e,config:a,analytics:g,hDa:p})))))}oAa(a){if((a=
this.t3.get(a))&&a.ref)return a.ref.getBoundingClientRect()}};__c.k(()=>sP.prototype.u0a);Object(jP.a)([hP.E.ref],sP.prototype,"u0a",void 0);__c.k(()=>sP.prototype.dH);Object(jP.a)([hP.E.ref],sP.prototype,"dH",void 0);__c.k(()=>sP.prototype.tdb);Object(jP.a)([hP.E.ref],sP.prototype,"tdb",void 0);__c.k(()=>sP.prototype.onResize);Object(jP.a)([hP.l],sP.prototype,"onResize",void 0);sP=Object(jP.a)([kP.b],sP);var tP=class{constructor(a,b,c,d,e,f,g){g=void 0===g?new __c.Lj:g;this.document=a;this.nga=b;this.Be=c;this.za=d;this.config=e;this.vb=f;this.Nra=g;this.PE=224;this.kja=()=>{this.config.active=!this.config.active}}get tX(){return 2===this.za.da}ut(a){var b=Array.from(a.mb);a.oba=b}PEa(a){if(a.oba.length+this.document.fa.count()>this.Be)__c.ks(this.vb,{Rd:__c.B("GGjEDQ",[this.Be]),timeoutMs:5E3});else{var b=a.oba.map(c=>__c.iB.Ub(c));0<a.mb.size?(a=Array.from(a.mb),a=a[a.length-1]):a=__c.n(this.document.fa.last());
__c.XI(this.document.fa,a,b)}}Cj(a,b){this.tX&&!a.jx&&a.deselectAll();a.Cj(b);a.QHa(b)}RK(a,b){if(a.selectionStart===b&&1<a.mb.size){const d=this.document.fa.next(b,f=>a.mb.has(f)),e=this.document.fa.previous(b,f=>a.mb.has(f));if(d&&e){var c=this.document.fa.toArray();const f=c.indexOf(d)-c.indexOf(b);c=c.indexOf(b)-c.indexOf(e);f>c?a.QHa(e):a.QHa(d)}else d?a.QHa(d):e&&a.QHa(e)}a.RK(b)}B$(a){this.document.fa.forEach(b=>a.Cj(b))}deselectAll(a){a.deselectAll()}Uvc(a,b){if(a.selectionStart){var c=this.document.fa.toArray(),
d=c.indexOf(a.selectionStart);c=c.indexOf(b);if(a.mb.has(b)){if(d<=c){let e=this.document.fa.next(b);for(;e&&a.mb.has(e);)a.RK(e),e=this.document.fa.next(e)}if(d>=c)for(d=this.document.fa.previous(b);d&&a.mb.has(d);)a.RK(d),d=this.document.fa.previous(d)}else for(;b&&b!==a.selectionStart&&!a.mb.has(b);)a.Cj(b),b=d<c?this.document.fa.previous(b):this.document.fa.next(b)}else this.Cj(a,b)}fm(a){return this.document.fa.count()<this.Be&&(!a||this.document.fa.has(a))}OLa(a){a=null!=a?this.document.fa.toArray()[a]:
void 0;__c.m(this.fm(a));const b=a?this.document.fa.previous(a):this.document.fa.last();this.document.fa.insertBefore(a,Object.assign({},__c.DB,{animation:null===b||void 0===b?void 0:b.animation,background:null!=b?__c.gB.Ub(b.background):__c.DB.background,elements:[]}))}jNa(a){return this.document.fa.count()>this.nga&&(!a||this.document.fa.has(a))}mma(a,b){__c.m(this.jNa(b));this.document.fa.delete(b);a.RK(b)}T0(a){if(0!==a.mb.size){var b=this.document.fa.count()===a.mb.size;__c.zh(this.document.fa,
c=>a.mb.has(c));b&&(this.OLa(),a.aLb(),a.Oqb());a.deselectAll()}}U4b(a){__c.ja(sEc(this,a));const b=__c.iB.Ub(a);this.document.fa.hpa(a,b)}w7a(a){__c.ja(tEc(this,a));if(0!==a.mb.size){var b=Array.from(a.mb),c=b[b.length-1];b=b.map(e=>__c.iB.Ub(e));var d=a.t3&&a.t3.get(c);d&&a.rY&&this.kv(a.rY,d.offsetY);__c.XI(this.document.fa,c,b);a.deselectAll()}}pqa(a,b){b=null!=b?this.document.fa.toArray()[b]:void 0;__c.m(!b||this.document.fa.has(b));if(0!==a.mb.size){var c=Array.from(a.mb);__c.YI(this.document.fa,
b,c);this.deselectAll(a)}}kv(a,b){this.Nra.animate(()=>a.scrollTop,c=>a.scrollTop=c-a.offsetHeight/2,b)}};__c.k(()=>tP.prototype.PE);Object(jP.a)([hP.E.ref],tP.prototype,"PE",void 0);__c.k(()=>tP.prototype.tX);Object(jP.a)([hP.o],tP.prototype,"tX",null);__c.k(()=>tP.prototype.kja);Object(jP.a)([hP.l],tP.prototype,"kja",void 0);__c.k(()=>tP.prototype.PEa);Object(jP.a)([hP.l],tP.prototype,"PEa",null);__c.k(()=>tP.prototype.Cj);Object(jP.a)([hP.l],tP.prototype,"Cj",null);__c.k(()=>tP.prototype.RK);
Object(jP.a)([hP.l],tP.prototype,"RK",null);__c.k(()=>tP.prototype.B$);Object(jP.a)([hP.l],tP.prototype,"B$",null);__c.k(()=>tP.prototype.deselectAll);Object(jP.a)([hP.l],tP.prototype,"deselectAll",null);__c.k(()=>tP.prototype.Uvc);Object(jP.a)([hP.l],tP.prototype,"Uvc",null);__c.k(()=>tP.prototype.OLa);Object(jP.a)([hP.l],tP.prototype,"OLa",null);__c.k(()=>tP.prototype.mma);Object(jP.a)([hP.l],tP.prototype,"mma",null);__c.k(()=>tP.prototype.T0);Object(jP.a)([hP.l],tP.prototype,"T0",null);
__c.k(()=>tP.prototype.U4b);Object(jP.a)([hP.l],tP.prototype,"U4b",null);__c.k(()=>tP.prototype.w7a);Object(jP.a)([hP.l],tP.prototype,"w7a",null);__c.k(()=>tP.prototype.pqa);Object(jP.a)([hP.l],tP.prototype,"pqa",null);__c.VAc={BCd:function({config:a,Ra:b,aa:c,Va:d,ab:e,Uy:f,vb:g,ql:h,rN:l,fla:p,Taa:q,$:t,Ye:u,za:v,store:y}){const A=c.document,C=new CEc(t,{ca:c.id,ha:c.doctype&&c.doctype.id,categoryId:c.categoryId}),F=new __c.TH(t,()=>({xa:c.id,ha:c.doctype&&c.doctype.id,categoryId:c.categoryId}),"page_manager"),H=new tP(A,1,c.Ud,v,a,g);let I;const L=S=>I=S,N=new __c.Kj,R=DEc(u,()=>gP.createElement(sP,{config:a,document:A,Va:d,ab:e,store:y,v:H,analytics:C,GE:b.keyboardShortcuts,YUa:a.YUa,kHb:a.kHb,lHb:a.lHb,gHa:L,
pr:N,hDa:F}));hP.J(()=>a.active,S=>{b.u1a=S?R:void 0;q.LVa=S?vEc(H,A.ga):void 0;S?(hP.Q(()=>!!b.Ld&&!b.Ld.collapsed,()=>a.active=!1),b.Ld&&!b.Ld.collapsed&&(hP.Q(()=>!a.active,()=>{b.Ld&&(b.Ld.collapsed=!1)}),b.Ld.collapsed=!0),H.Cj(y,e.get()),gEc(C.analytics,{ha:C.opts.ha,ca:C.opts.ca,categoryId:C.opts.categoryId,source:"footer_control",location:"bottom_right"})):y.selectionStart&&f.kv(y.selectionStart)},{fireImmediately:!0});kEc({config:a,document:A,D9:y,KIb:H,analytics:C,oAa:S=>__c.n(I).oAa(S)});
h.bla=()=>a.active=!1;h.dla=()=>a.active=!1;h.ela=()=>a.active=!1;h.cla=()=>a.active=!1;l.bla=()=>a.active=!1;l.dla=()=>a.active=!1;l.ela=()=>a.active=!1;l.cla=()=>a.active=!1;p.set(()=>a.active=!1)}};
}).call(self, self._43f8a69260d35c35bc704f654cf1c2b6);}},[["MVRx9","K2W9","P4bM","EEO/","fDYT","QA57"]]])
//# sourceMappingURL=764e80d1f38419d5d443e4fdc979b2f8.2.js.map